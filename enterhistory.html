<!DOCTYPE html>
<html lang="en">


<head>

  <meta charset = "UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  
  <link rel="stylesheet" type="text/css" href="newstyle.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">

<!-- Include the Firebase JavaScript SDK -->
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

<!-- Add your Firebase project configuration here -->
<script>
  var firebaseConfig = {
    apiKey: "AIzaSyDf2HfoxicUgf7P2n9rTDBF7XT7CwTCpbw",
 authDomain: "mediconnect-apk-6739f.firebaseapp.com",
 projectId: "mediconnect-apk-6739f", 
 messagingSenderId: "289810283860",
      storageBucket: "gs://mediconnect-apk-6739f.appspot.com/",
      appId: "1:289810283860:android:90178fefc8100e1922dcc1"
    };
    firebase.initializeApp(firebaseConfig);

</script>

</head>


<nav class="navbar navbar-expand-md">
	<a class="navbar-brand" href="#" id="Home">DIGITAL HEALTH HUB</a>
	<button class="navbar-toggler navbar-dark" type="button" data-toggle="collapse" data-target="#main-navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="main-navigation">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" href="doctor.html">Return to Doctor</a>
			</li>
		</ul>
	</div>
</nav>


<body>

  <img src="EPH1.jpeg" class="img-fluid"  style="height: 100vh; width: 100vw;">
 
              <div class="card-body p-md-5 text-black">
                <h3 class="mb-5 text-uppercase"> ENTER NEW PATIENT HISTORY</h3>
                  
              
              
        <div class="container" style="text-align: center;">
          <h1>ENTER PATIENT HISTORY</h1>
          <form id="historyForm">
            <label for="patientIdInput">Patient ID:</label>
            <input type="text" id="patientIdInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>
      <br>
            <label for="historyInput">Patient History:</label>
            <textarea id="historyInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"></textarea><br>
<br>
            <label for="nameInput">Patient Name:</label>
<input type="text" id="nameInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>
<br>

<label for="dobInput">Date of Birth:</label>
<input type="date" id="dobInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>
<br>

<label for="ageInput">Patient Age:</label>
<input type="text" id="ageInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>

<label for="genderInput">Patient Gender:</label>
<input type="text" id="genderInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>
<br>

<label for="mrnInput">Medical Record Number:</label>
<input type="text" id="mrnInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"><br>
<br>

<label for="allergiesInput">Allergies:</label>
<textarea id="allergiesInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"></textarea><br>
<br>

<label for="familyHistoryInput">Family Medical History:</label>
<textarea id="familyHistoryInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"></textarea><br>
<br>

<label for="lifestyleInput">Lifestyle:</label>
<textarea id="lifestyleInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"></textarea><br>
<br>

<label for="immunizationInput">Immunization History:</label>
<textarea id="immunizationInput" required style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;"></textarea><br>
   
<br>
            <button type="submit" style="background-color: rgb(234, 232, 232); border-color: rgb(147, 147, 234); border-width: thick;">SAVE HISTORY</button>
          </form>
      
        
        </div>
      
          </div>
        </div>

      
<br>
       <h1>Locate Us</h1>
          <div class="row g-0">
    
            <div class="col-xl-6 d-none d-xl-block">
                <br><br><br><br><br>
              <h3 class="mb-5 text-uppercase"> WORKING HOURS</h3>
              <p>Monday,      08:00am - 17:00pm
                <br/>Tuesday,    08:00am - 17:00pm
                <br/>Wednesday,  08:00am - 17:00pm
                <br/>Thursday,   08:00am - 17:00pm
          <br/>Friday,     08:00am - 17:00pm
          <br/>Saturday,   08:00am - 13:00pm
          <br>
          <br/>Sunday, 08:00am - 17:00pm
          <br/>Public Holidays, 08:00am - 17:00pm</p>
            </div>

            <div class="col-xl-6">
              <div class="card-body p-md-5 text-black">
                <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d14374.72116583958!2d28.19696106738277!3d-25.74808423939732!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sza!4v1693919422266!5m2!1sen!2sza" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
              </div>
              </div>
              </div>
              
<br>

  
</div>

        <!-- Add your JavaScript code for Firebase Authentication here -->
        <script>
        // Function to save patient history
historyForm.addEventListener("submit", function (event) {
  event.preventDefault();
  var patientId = patientIdInput.value;
  var history = historyInput.value;
  var name = document.getElementById("nameInput").value;
  var dateOfBirth = document.getElementById("dobInput").value;
  var age = document.getElementById("ageInput").value;
  var gender = document.getElementById("genderInput").value;
  var medicalRecordNumber = document.getElementById("mrnInput").value;
  var allergies = document.getElementById("allergiesInput").value;
  var familyHistory = document.getElementById("familyHistoryInput").value;
  var lifestyle = document.getElementById("lifestyleInput").value;
  var immunizationHistory = document.getElementById("immunizationInput").value;

  // Save patient information to the "History" node in the database
  var database = firebase.database();
  var historyRef = database.ref("History/" + patientId);
  historyRef.set({
    Name: name,
    DateOfBirth: dateOfBirth,
    Age: age,
    Gender: gender,
    MedicalRecordNumber: medicalRecordNumber,
    Allergies: allergies,
    FamilyMedicalHistory: familyHistory,
    Lifestyle: lifestyle,
    ImmunizationHistory: immunizationHistory,
    History: history,
  })
    .then(function () {
      alert("Patient information saved successfully");
      historyInput.value = "";
      patientIdInput.value = "";
    })
    .catch(function (error) {
      alert("Error saving patient information: " + error.message);
    });
});

// Function to retrieve patient information from the "History" node
retrieveButton.addEventListener("click", function () {
  var patientId = retrievePatientId.value;

  // Retrieve patient information from the "History" node in the database
  var database = firebase.database();
  var historyRef = database.ref("History/" + patientId);

  historyRef.once("value").then(function (snapshot) {
    var patientInfo = snapshot.val();
    if (patientInfo) {
      historyOutput.innerText = "Patient Information:\n" +
        "Name: " + patientInfo.Name + "\n" +
        "Date of Birth: " + patientInfo.DateOfBirth + "\n" +
        "Age: " + patientInfo.Age + "\n" +
        "Gender: " + patientInfo.Gender + "\n" +
        "Medical Record Number: " + patientInfo.MedicalRecordNumber + "\n" +
        "Allergies: " + patientInfo.Allergies + "\n" +
        "Family Medical History: " + patientInfo.FamilyMedicalHistory + "\n" +
        "Lifestyle: " + patientInfo.Lifestyle + "\n" +
        "Immunization History: " + patientInfo.ImmunizationHistory + "\n" +
        "History: " + patientInfo.History;
    } else {
      historyOutput.innerText = "Patient information not found for the given Patient ID.";
    }
  }).catch(function (error) {
    historyOutput.innerText = "Error retrieving patient information: " + error.message;
  });
});
        </script> 

              </div>
            </div>
			
          </div>
        </div>
  
  

        <footer class="page-footer">
          <div class="rowwww">
            <div class="columnnn" style="align-content: center;">
                <img src="discovery.png" alt="" style="width: 80%;  margin-left: 30%;">
            </div>
            <div class="columnnn"  style="align-content: center;">
                <img src="Bankmed-1.png" alt="" style="width: 60%; margin-left: 20%;">
            </div>
            <div class="columnnn" style="align-content: center;">
                <img src="GEMS23.png" alt="" style="width: 80%; margin-left: 20%;">
            </div>
            <div class="columnnn" style="align-content: center;">
                <img src="Momentum33.png" alt="" style="width: 60%; margin-left: 20%;">
            </div>
          </div>
          <br><br>
          <p class="text-uppercase font-weight-bold">Stay In Touch With DigitalHealthHub Â© 2020 Copyright: MyWebsite.com</p>
          </footer>